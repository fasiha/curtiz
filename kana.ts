let hiragana = "ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなに" +
               "ぬねのはばぱひびぴふぶぷへべぺほぼまみむめもゃやゅゆょよらりるれろゎわゐゑをんゔゕゖ";
let katakana = "ァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニ" +
               "ヌネノハバパヒビピフブプヘベペホボマミムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶ";

if (hiragana.length !== katakana.length) { throw new Error('Kana strings not same length?'); }
let kata2hiraMap: Map<string, string> = new Map([]);
hiragana.split('').forEach((h, i) => kata2hiraMap.set(katakana[i], h));

export function kata2hira(s: string) { return s.split('').map(c => kata2hiraMap.get(c) || c).join(''); }